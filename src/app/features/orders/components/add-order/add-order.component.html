<div class="flex h-[80vh] justify-center font-sans">
    <div class="container rounded-xl my-auto max-w-2xl p-6 m-2 shadow-md border border-sky-300">
      <!-- header -->
      <div class="my-6 text-center">
        <h1 class="text-3xl font-semibold text-black">Agregar Nueva Orden de Pedido</h1>
      </div>
  
      <!-- Formulario -->
      <form (ngSubmit)="agregarOrden()" #orderForm="ngForm">
        <!-- Control para seleccionar cliente -->
        <div class="mb-4">
          <label for="cliente" class="block text-sm font-medium text-gray-700">Cliente</label>
          <select
            id="cliente"
            name="cliente"
            [(ngModel)]="orden.cliente"
            required #cliente="ngModel"
            class="mt-1 block w-full px-3 py-2 border border-sky-500 rounded-md shadow-sm focus:outline-none"
          >
            <option value="">Seleccionar cliente...</option>
            <option *ngFor="let c of clientes" [value]="c.id">{{ c.nombre }}</option>
          </select>
          <div class="text-red-500 text-sm" [hidden]="cliente.valid || cliente.pristine">
            <p>El cliente es obligatorio.</p>
          </div>
        </div>
  
        <!-- Input para descripción -->
        <div class="mb-4">
          <label for="descripcion" class="block text-sm font-medium text-gray-700">Descripción</label>
          <input
            type="text"
            id="descripcion"
            name="descripcion"
            [(ngModel)]="orden.descripcion"
            required #descripcion="ngModel"
            class="mt-1 block w-full px-3 py-2 border border-sky-500 rounded-md shadow-sm focus:outline-none"
          />
          <div class="text-red-500 text-sm" [hidden]="descripcion.valid || descripcion.pristine">
            <p>La descripción es obligatoria.</p>
          </div>
        </div>
  
        <!-- Input para precio -->
        <div class="mb-4">
          <label for="precio" class="block text-sm font-medium text-gray-700">Precio</label>
          <input
            type="number"
            id="precio"
            name="precio"
            [(ngModel)]="orden.precio"
            required #precio="ngModel"
            class="mt-1 block w-full px-3 py-2 border border-sky-500 rounded-md shadow-sm focus:outline-none"
          />
          <div class="text-red-500 text-sm" [hidden]="precio.valid || precio.pristine">
            <p>El precio es obligatorio.</p>
          </div>
        </div>
  
        <!-- Input para cantidad -->
        <div class="mb-4">
          <label for="cantidad" class="block text-sm font-medium text-gray-700">Cantidad</label>
          <input
            type="number"
            id="cantidad"
            name="cantidad"
            [(ngModel)]="orden.cantidad"
            required #cantidad="ngModel"
            class="mt-1 block w-full px-3 py-2 border border-sky-500 rounded-md shadow-sm focus:outline-none"
          />
          <div class="text-red-500 text-sm" [hidden]="cantidad.valid || cantidad.pristine">
            <p>La cantidad es obligatoria.</p>
          </div>
        </div>
  
        <!-- Tabla de ítems -->
        <div class="mb-4">
          <h2 class="text-lg font-semibold">Ítems</h2>
          <table class="min-w-full border-collapse border border-gray-300">
            <thead>
              <tr>
                <th class="border border-gray-300 px-4 py-2">Item</th>
                <th class="border border-gray-300 px-4 py-2">Descripción</th>
                <th class="border border-gray-300 px-4 py-2">Cantidad</th>
                <th class="border border-gray-300 px-4 py-2">Precio</th>
                <th class="border border-gray-300 px-4 py-2">Subtotal</th>
                <th class="border border-gray-300 px-4 py-2">Acciones</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of orden.items; let i = index">
                <td class="border border-gray-300 px-4 py-2">{{ i + 1 }}</td>
                <td class="border border-gray-300 px-4 py-2">{{ item.descripcion }}</td>
                <td class="border border-gray-300 px-4 py-2">{{ item.cantidad }}</td>
                <td class="border border-gray-300 px-4 py-2">{{ item.precio | currency }}</td>
                <td class="border border-gray-300 px-4 py-2">{{ item.cantidad * item.precio | currency }}</td>
                <td class="border border-gray-300 px-4 py-2">
                  <button type="button" (click)="eliminarItem(i)" class="text-red-500">Eliminar</button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
  
        <!-- Botón para agregar ítem -->
        <div class="flex justify-between mb-4">
          <button
            type="button"
            (click)="agregarItem()"
            class="bg-sky-600 hover:bg-sky-700 text-white font-bold py-2 px-4 rounded"
          >
            Agregar Ítem
          </button>
        </div>
  
        <!-- Botón para enviar la orden -->
        <div class="flex justify-center">
          <button
            type="submit"
            class="bg-sky-600 hover:bg-sky-700 text-white font-bold py-2 px-4 rounded"
          >
            Agregar Orden de Pedido
          </button>
        </div>
      </form>
    </div>
  </div>
  